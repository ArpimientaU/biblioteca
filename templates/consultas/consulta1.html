{% extends 'base/base.html' %}

{% block content %}
<form method="post">
    {% csrf_token %}

        <h3>Mostrar todos los prestamos, ejemplares, libros y autor de los mismos en un rango de fecha determinada (Fecha inicial y Fecha Final)</h3>
         <br>
            <div>
            <h5>Ingrese el rango de fechas del préstamo:</h5>
             <label for="fecha1">Fecha Inicial:</label>
             <input type="date" name="fecha1" required>
            </div>
         <div> 
             <label for="fecha2">Fecha Final:</label>
             <input type="date" name="fecha2" required>
         </div>
         <button class="btn btn-dark" type="submit">
            Consultar
        </button>
    </div>
  </div>
</form>
  <div> 
    {% if consulta1 %}
        <table class="table table-danger table-hover">
            <thead>
            <tr class="table-dark" >
                <th scope="col">Localización del ejemplar</th>
                <th scope="col">Título del libro</th>
                <th scope="col">Autor</th>
                <th scope="col">Fecha del Préstamo</th>
                <th scope="col">Fecha de Devolución</th>
            </tr>
            </thead>
            <tbody> 
                {% for consulta in consulta1 %}
                    <tr>
                        <td>{{ consulta.ejemplar__localizacion}}</td>
                        <td>{{ consulta.ejemplar__libro__titulo}}</td>
                        <td>{{ consulta.ejemplar__libro__autor__nombre}}</td>
                        <td>{{ consulta.fecha_prestamo}}</td>
                        <td>{{ consulta.fecha_devolucion}}</td>
                    </tr>
                {% endfor %}
        {% else %}
            <div>
               SIN REGISTROS
            </div>
        {%endif%}
        </tbody>
    </table>
  </div>
{% endblock  %}